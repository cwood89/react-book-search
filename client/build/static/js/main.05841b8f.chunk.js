(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{23:function(e,a,t){e.exports=t(54)},29:function(e,a,t){},30:function(e,a,t){},31:function(e,a,t){},54:function(e,a,t){"use strict";t.r(a);var n=t(0),o=t.n(n),r=t(21),l=t.n(r),c=(t(29),t(56)),s=t(58),i=t(57),m=t(8),d=t(9),u=t(12),h=t(10),f=t(5),v=t(13);var p=function(){return o.a.createElement("nav",{className:"navbar",role:"navigation","aria-label":"main navigation"},o.a.createElement("div",{className:"navbar-brand"},o.a.createElement("a",{className:"navbar-item",href:"/"},o.a.createElement("span",{className:"icon"},o.a.createElement("i",{className:"fas fa-book-dead fa-2x"}))),o.a.createElement("a",{role:"button",className:"navbar-burger burger","aria-label":"menu","aria-expanded":"false","data-target":"navbarBooks"},o.a.createElement("span",{"aria-hidden":"true"}),o.a.createElement("span",{"aria-hidden":"true"}),o.a.createElement("span",{"aria-hidden":"true"}))),o.a.createElement("div",{id:"navbarBooks",className:"navbar-menu"},o.a.createElement("div",{className:"navbar-start"},o.a.createElement("a",{className:"navbar-item",href:"/library"},"Library"),o.a.createElement("a",{className:"navbar-item",href:"/bookshelf"},"Bookshelf")),o.a.createElement("div",{className:"navbar-end"},o.a.createElement("a",{href:"https://github.com/cwood89/react-book-search",className:"navbar-item"},o.a.createElement("span",{className:"icon"},o.a.createElement("i",{className:"fab fa-github fa-2x"}))))))};var b=function(e){return o.a.createElement("section",{className:"hero is-large is-danger is-bold"},o.a.createElement("div",{className:"hero-head"},o.a.createElement(p,null)),o.a.createElement("div",{className:"hero-body"},o.a.createElement("div",{className:"container"},o.a.createElement("h1",{className:"title"},"Book Club"),o.a.createElement("h2",{className:"subtitle"},"Find your next chapter one."))))};var E=function(e){return o.a.createElement("div",{className:"column"},e.children)};t(30);var g=function(e){var a;switch(Math.floor(Math.random()*Math.floor(4)+1)){case 1:a="small";break;case 2:a="med";break;case 3:a="large";break;case 4:a="x-large"}return o.a.createElement("div",{className:a},o.a.createElement("img",{id:e.id,src:e.image,alt:e.name,onClick:function(){return e.openModal(e.thisData)}}))};var k=function(e){return o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"columns is-1"},o.a.createElement(E,null,e.arr1.map(function(a){return o.a.createElement(g,{id:a.id,key:a.id,image:a.image,alt:a.name,openModal:function(){return e.openModal(a)},thisData:a})})),o.a.createElement(E,null,e.arr2.map(function(a){return o.a.createElement(g,{id:a.id,key:a.id,image:a.image,openModal:function(){return e.openModal(a)},thisData:a})})),o.a.createElement(E,null,e.arr3.map(function(a){return o.a.createElement(g,{id:a.id,key:a.id,image:a.image,openModal:function(){return e.openModal(a)},thisData:a})}))))};t(31);var N=function(e){return o.a.createElement("div",{className:e.open?"modal is-active":"modal"},o.a.createElement("div",{className:"modal-background",onClick:function(){return e.closeModal()}}),o.a.createElement("div",{className:"modal-content"},o.a.createElement("div",{className:"card"},o.a.createElement("div",{className:"card-image"},o.a.createElement("figure",{className:"modal-image"},o.a.createElement("img",{src:e.modalInfo.image,alt:e.modalInfo.name}))),o.a.createElement("div",{className:"card-content"},o.a.createElement("h1",null,e.modalInfo.title),o.a.createElement("p",null,"Written by ",e.modalInfo.authors,"."),o.a.createElement("p",null,e.modalInfo.description),o.a.createElement("p",null,e.modalInfo.link),e.children))))},w=t(7),B=t.n(w),M={getBooks:function(){return B.a.get("/db/books")},deleteBook:function(e){return B.a.delete("/db/books/"+e)},saveBook:function(e){return B()({method:"post",url:"/db/books",data:e})},searchBooks:function(e,a){switch(a){case"Title":return B.a.get("https://www.googleapis.com/books/v1/volumes?q=intitle:"+e+"&maxResults=40");case"Author":return B.a.get("https://www.googleapis.com/books/v1/volumes?q=inauthor:"+e+"&maxResults=40");case"Genre":return B.a.get("https://www.googleapis.com/books/v1/volumes?q=subject:"+e+"&maxResults=40");default:return B.a.get("https://www.googleapis.com/books/v1/volumes?q=intitle:"+e+"&maxResults=40")}}};var y=function(e){return o.a.createElement("button",{className:"button is-outlined is-danger is-rounded",onClick:function(){return e.deleteBook(e.id)}},"Delete!")},I=function(e){function a(){var e;return Object(m.a)(this,a),(e=Object(u.a)(this,Object(h.a)(a).call(this))).state={data:[],arr1:[],arr2:[],arr3:[],open:!1,modalInfo:{}},e.deleteBook=e.deleteBook.bind(Object(f.a)(e)),e.closeModal=e.closeModal.bind(Object(f.a)(e)),e.openModal=e.openModal.bind(Object(f.a)(e)),e}return Object(v.a)(a,e),Object(d.a)(a,[{key:"componentDidMount",value:function(){this.getBooks()}},{key:"getBooks",value:function(){var e=this;M.getBooks().then(function(a){console.log(a.data),e.sort(a.data),e.setState({data:a.data})}).catch(function(e){return console.log(e)})}},{key:"deleteBook",value:function(e){var a=this;M.deleteBook(e).then(function(){alert("Deleted"),a.getBooks()})}},{key:"sort",value:function(e){for(var a=1,t=[],n=[],o=[],r=0;r<e.length;r++)1===a?(t.push(e[r]),a++):2===a?(n.push(e[r]),a++):(o.push(e[r]),a=1);this.setState({arr1:t,arr2:n,arr3:o})}},{key:"closeModal",value:function(){this.setState({open:!1})}},{key:"openModal",value:function(e){this.setState({open:!0,modalInfo:e})}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(b,null),o.a.createElement(k,{openModal:this.openModal,arr1:this.state.arr1,arr2:this.state.arr2,arr3:this.state.arr3}),o.a.createElement(N,{modalInfo:this.state.modalInfo,open:this.state.open,closeModal:this.closeModal},o.a.createElement(y,{deleteBook:this.deleteBook,id:this.state.modalInfo.id})))}}]),a}(n.Component);var j=function(e){return o.a.createElement("div",{className:"card"},o.a.createElement("div",{className:"card-header"},o.a.createElement("p",{className:"card-header-title"},"Search")),o.a.createElement("div",{className:"card-content"},o.a.createElement("div",{className:"field has-addons has-addons-centered"},o.a.createElement("p",{className:"control"},o.a.createElement("span",{className:"select is-large is-danger is-rounded"},o.a.createElement("select",{id:"type-val"},o.a.createElement("option",null,"Title"),o.a.createElement("option",null,"Author"),o.a.createElement("option",null,"Genre")))),o.a.createElement("p",{className:"control"},o.a.createElement("input",{className:"input is-large is-danger is-rounded",type:"text",placeholder:"Search",id:"search-val"})),o.a.createElement("p",{className:"control"},o.a.createElement("button",{className:"button is-large is-danger is-rounded",onClick:function(){return e.searchSubmit()},type:"button"},o.a.createElement("span",{className:"icon is-med is-left"},o.a.createElement("i",{className:"fas fa-search"})))))))};var O=function(e){return o.a.createElement("button",{className:"button is-outlined is-rounded is-success",onClick:function(){return e.saveBook(e.id)}},"Save Me!")},S=function(e){function a(){var e;return Object(m.a)(this,a),(e=Object(u.a)(this,Object(h.a)(a).call(this))).getBooks=function(a,t){M.searchBooks(a,t).then(function(a){for(var t=[],n=0;n<a.data.items.length;n++){var o={id:a.data.items[n].id,title:a.data.items[n].volumeInfo.title,authors:a.data.items[n].volumeInfo.authors,description:a.data.items[n].volumeInfo.description,image:a.data.items[n].volumeInfo.imageLinks.thumbnail,link:a.data.items[n].selfLink};t.push(o)}e.sort(t),e.setState({data:t})}).catch(function(e){return console.log(e)})},e.state={data:[],arr1:[],arr2:[],arr3:[],open:!1,modalInfo:{}},e.saveBook=e.saveBook.bind(Object(f.a)(e)),e.searchSubmit=e.searchSubmit.bind(Object(f.a)(e)),e.closeModal=e.closeModal.bind(Object(f.a)(e)),e.openModal=e.openModal.bind(Object(f.a)(e)),e}return Object(v.a)(a,e),Object(d.a)(a,[{key:"componentDidMount",value:function(){this.getBooks("stephen king","Author")}},{key:"sort",value:function(e){for(var a=1,t=[],n=[],o=[],r=0;r<e.length;r++)1===a?(t.push(e[r]),a++):2===a?(n.push(e[r]),a++):(o.push(e[r]),a=1);this.setState({arr1:t,arr2:n,arr3:o})}},{key:"closeModal",value:function(){this.setState({open:!1})}},{key:"openModal",value:function(e){this.setState({open:!0,modalInfo:e})}},{key:"searchSubmit",value:function(){var e=document.getElementById("search-val").value,a=document.getElementById("type-val").value;e.length>0&&(this.getBooks(e,a),document.getElementById("search-val").value="")}},{key:"saveBook",value:function(e){var a=this.state.data.filter(function(a){return a.id===e});console.log(a[0]),M.saveBook(a[0]).then(function(){alert("You saved a book!")}).catch(function(e){return console.log(e)})}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(b,null),o.a.createElement(j,{searchSubmit:this.searchSubmit}),o.a.createElement(k,{openModal:this.openModal,arr1:this.state.arr1,arr2:this.state.arr2,arr3:this.state.arr3}),o.a.createElement(N,{modalInfo:this.state.modalInfo,open:this.state.open,closeModal:this.closeModal},o.a.createElement(O,{saveBook:this.saveBook,id:this.state.modalInfo.id})))}}]),a}(n.Component);var x=function(){return o.a.createElement(c.a,null,o.a.createElement("div",null,o.a.createElement(s.a,null,o.a.createElement(i.a,{exact:!0,path:"/",component:S}),o.a.createElement(i.a,{exact:!0,path:"/library",component:S}),o.a.createElement(i.a,{exact:!0,path:"/bookshelf",component:I}))))},C=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function D(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var a=e.installing;a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}l.a.render(o.a.createElement(x,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("","/service-worker.js");C?function(e){fetch(e).then(function(a){404===a.status||-1===a.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):D(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e):D(e)})}}()}},[[23,1,2]]]);
//# sourceMappingURL=main.05841b8f.chunk.js.map